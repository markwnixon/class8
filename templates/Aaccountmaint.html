{% extends 'A_layout_portal.html' %}

{% block body %}
<form action="{{ url_for ('AccountMaint') }}" method="post">
<div class="table-responsive">
<div class="row">

<div class="col-sm-{{leftsize}}">

{% if leftscreen == 0 %}

    <div class="row">
        <div class="col-sm-4" class="{{atc}}">
        Text version of file {{doctxt}}:<br>

        <embed src="{{doctxt}}" width="300px" height="550px"/>


        </div>
        <div class="col-sm-8" align="right">
        Looking for: {{docref}}<br>

        <embed src="{{docref}}" width="500px" height="550px"/>
        </div>
    </div>
{% else %}

  <div class="row">
    <div class="col-sm-12" align="center" style="font-weight:bold"> Chart of Accounts </div>
  </div>
  <div class="row">
    <div class="col-sm-12">

      {% set atc = "font-weight-bold text-center" %}
      {% set atl = "font-weight-bold text-left" %}
      {% set atr = "font-weight-bold text-right" %}

        <table id="dtHorizontalVerticalExample1" class="table table-striped table-bordered w-auto" cellspacing="0" width="100%">
            <thead>
           <tr align="center" style="font-weight:bold; background-color:linen" >
                <th class="{{atc}}">Ck</th>
                <th class="{{atc}}">Id</th>
                <th class="{{atc}}">Co</th>
                <th class="{{atc}}">Name</th>
                <th class="{{atc}}">Type</th>
                <th class="{{atc}}">Category</th>
                <th class="{{atc}}">SubCat</th>
                <th class="{{atc}}">AcctNumber</th>
                <th class="{{atc}}">Routing</th>
                <th class="{{atc}}">Payee</th>
                <th class="{{atc}}">Description</th>
                <th class="{{atc}}">Balance</th>
                <th class="{{atc}}">Taxrollup</th>

            </tr>
            </thead>
            <tbody>
            {% for data in data1 %}
            <tr>
                <td align="center"><input class="align-middle" type="checkbox" name="oder{{data.id}}" value="{{data.id}}"></td>
                <td class="{{atc}}">{{ data.id }}</td>
                <td class="{{atc}}">{{ data.Co }}</td>
                <td class="{{atc}}">{{ data.Name }}</td>
                <td class="{{atc}}">{{ data.Type }}</td>
                <td class="{{atc}}">{{ data.Category}}</td>
                <td class="{{atc}}">{{ data.Subcategory}}</td>
                <td class="{{atc}}">{{ data.AcctNumber }}</td>
                <td class="{{atc}}">{{ data.Routing }}</td>
                <td class="{{atc}}">{{ data.Payee }}</td>
                <td class="{{atc}}">{{ data.Description }}</td>
                <td class="{{atc}}">{{ data.Balance }}</td>
                <td class="{{atc}}">{{ data.Taxrollup}}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>


{% endif %}

</div>





<div class="col-sm-{{rightsize}}">
       <div class="row" align="center">
           <div class="col-sm-12"  style="font-weight:bold">Control Panel</div>
       </div>
       <div class="row" align="center">
           <div class="col-sm-12">

            <table>
               <tr class="small text-danger"><td>Messages</td></tr>
                {% for e in err %}
                <tr><td>{{e}}</td></tr>
                {% endfor %}
            </table>
            <br>

           </div>
       </div>
       <div class="row">
           <div class="col-sm-12">

            {% if modlink != 1 and modlink != 10 %}
               {% include 'includes/_controlpanelAM.html' %}
            {% endif %}

            {% if modlink == 1 or modlink == 10 %}

               {% include 'includes/_button_upd_ret.html' %}
                <table class="table table-condensed table-hover">
                    <tbody>
                    <tr>
                        <td> <div class="input-group-text">Name:</div></td>
                        <td colspan="2"><input class="form-control" type="text" value="{{modata.Name}}" name="acctname"></td>
                    </tr>
                    <tr>
                        <td> <div class="input-group-text">Company:</div></td>
                        <td>
                        <select class="form-control" type="text" name="acctco">
                        <option  {% if modata.Co == 'K' %} selected {% endif %} value='K'> One Stop </option>
                        <option  {% if modata.Co == 'J' %} selected {% endif %} value='J'> Jays Auto </option>
                        <option  {% if modata.Co == 'KJ' %} selected {% endif %} value='KJ'> Shared OSL/JA </option>
                        </select>
                        </td>
                    </tr>
                    <tr>
                        <td> <div class="input-group-text">Type:</div></td>
                        <td>
                        <select class="form-control" type="text" name="accttype" onchange="this.form.submit()">
                        <option  {% if modata.Type == 'Bank' %} selected {% endif %} value='Bank'> Bank </option>
                        <option  {% if modata.Type == 'CC' %} selected {% endif %} value='CC'> Credit Card </option>
                        <option  {% if modata.Type == 'Asset' %} selected {% endif %} value='Asset'> Asset </option>
                        <option  {% if modata.Type == 'Liability' %} selected {% endif %} value='Liability'> Liability </option>
                        <option  {% if modata.Type == 'Expense' %} selected {% endif %} value='Expense'> Expense </option>
                        <option  {% if modata.Type == 'Income' %} selected {% endif %} value='Income'> Income</option>
                        </select>
                        </td>
                    </tr>
                    {% if modata.Type=='Expense' %}
                    <tr>
                        <td> <div class="input-group-text">Expense Category:</div></td>
                        <td>
                        <select class="form-control" type="text" name="acctcat" onchange="this.form.submit()">
                        <option  {% if modata.Category == 'Choose' %} selected {% endif %} value='Choose'> Choose </option>
                        <option  {% if modata.Category == 'G-A' %} selected {% endif %} value='G-A'> General and Administrative </option>
                        <option  {% if modata.Category == 'Direct' %} selected {% endif %} value='Direct'> Direct </option>
                        </select>
                        </td>
                    </tr>
                    {% endif %}

                    {% if modata.Type=='Expense' and modata.Category=='G-A' %}
                    <tr>
                        <td> <div class="input-group-text">G-A Expense Type:</div></td>
                        <td>
                        <select class="form-control" type="text" name="acctsub" onchange="this.form.submit()">
                        <option {% if modata.Subcategory == 'New' %} selected {% endif %} value="New"> Define New Category </option>
                        {% for sc in scdata %}
                        <option  {% if modata.Subcategory == sc %} selected {% endif %} value="{{sc}}"> {{sc}} </option>
                        {% endfor %}
                        </select>
                        </td>
                    </tr>
                    {% if modata.Subcategory=='New' or modata.Subcategory is none %}
                    <tr>
                        <td> <div class="input-group-text">Add New G-A Expense:</div></td>
                        <td colspan="2"><input class="form-control" type="text" value="" name="newgaexpense"></td>
                    </tr>
                    {% endif %}
                    {% endif %}

                    {% if modata.Type=='Expense' and modata.Category=='Direct' %}
                    <tr>
                        <td> <div class="input-group-text">Direct Expense Type:</div></td>
                        <td>
                        <select class="form-control" type="text" name="acctsub">
                        <option  {% if modata.Category == 'Trucking' %} selected {% endif %} value='Trucking'> Trucking </option>
                        <option  {% if modata.Category == 'Auto Sales' %} selected {% endif %} value='Auto Sales'> Auto Sales </option>
                        </select>
                        </td>
                    </tr>
                    {% endif %}
                    <tr>
                        <td> <div class="input-group-text">AcctNumber:</div></td>
                        <td colspan="2"><input class="form-control" type="text" value="{{modata.AcctNumber}}" name="acctnumb"></td>
                    </tr>
                    {% if modata.Type == 'Bank'%}
                    <tr>
                        <td> <div class="input-group-text">Routing:</div></td>
                        <td colspan="2"><input class="form-control" type="text" value="{{modata.Routing}}" name="acctrout"></td>
                    </tr>
                    <tr>
                        <td> <div class="input-group-text">Payee:</div></td>
                        <td colspan="2"><input class="form-control" type="text" value="{{modata.Payee}}" name="acctpaye"></td>
                    </tr>
                    {% endif %}
                    <tr>
                        <td> <div class="input-group-text">Description:</div></td>
                        <td colspan="2"><input class="form-control" type="text" value="{{modata.Description}}" name="acctdesc"></td>
                    </tr>
                    <tr>
                        <td> <div class="input-group-text">Tax Mapping:</div></td>
                        <td colspan="2"><input class="form-control" type="text" value="{{modata.Taxrollup}}" name="accttax"></td>
                    </tr>

                    </tbody></table>
                    <input type = "hidden" name ="oder" value= {{oder}}>

                {% endif %}




           </div></div>



</div>



</div>
</div>
{{oder}}
{{modlink}}
{{companyon}}
<input type = "hidden" name ="actype" value= "{{companyon}}">
<input type = "hidden" name ="oder" value= "{{oder}}">
<input type = "hidden" name ="modlink" value= "{{modlink}}">
</form>

{% endblock %}
